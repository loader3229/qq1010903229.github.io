<html>
<head>
<title>装备狂潮</title>
<script>
var exp=1000,hp=100,atk=10,def=10,luk=0,points=40,energy=30,progress=0,pp=0,highest_progress=0;
var battling=0;
var eqtab=0;
var equipments=[[],[],[],[],[],[],[],[],[],[]];
var eqlevels=[[],[],[],[],[],[],[],[],[],[]];
var equipment_data=[
[0,0,1],[1,0,1],[0,0,4],[1,0,4],[2,0,0.5],
[0,1,0.2],[1,1,0.2],[0,1,0.6],[1,1,0.6],[3,0,0.1],
[0,2,0.1],[1,2,0.1],[0,2,0.3],[1,2,0.3],[0,3,0.02],
[2,1,0.1],[1,3,0.05],[0,4,0.2],[1,3,0.2],[3,1,0.02],
[2,2,0.05],[1,4,0.02],[0,5,0.05],[1,4,0.05],[1,5,0.01],
[0,6,0.02],[1,5,0.02],[0,6,0.05],[1,5,0.05],[3,0,0.5],
[2,3,0.01],[1,4,0.1],[0,5,0.2],[1,6,0.03],[3,1,0.05],
[1,4,0.2],[1,6,0.05],[0,4,0.8],[2,3,0.03],[3,0,2],
[0,7,0.003],[1,7,0.003],[0,7,0.01],[1,7,0.01],[3,2,0.003],
[0,8,0.001],[1,8,0.001],[0,8,0.003],[1,8,0.003],[3,1,0.3],
[0,7,0.03],[1,7,0.03],[0,7,0.06],[2,4,0.01],[3,0,5],
[0,8,0.01],[1,8,0.01],[0,8,0.02],[2,4,0.05],[3,3,0.001],
[0,9,1e-4],[1,9,1e-4],[0,8,0.03],[1,8,0.03],[3,1,5],
[0,9,3e-4],[1,9,3e-4],[3,0,10],[1,7,0.06],[3,1,20],
];
var equipment_data_extra={
4:[4,0,1e-4],9:[4,0,1e-4],14:[4,1,4e-5],19:[4,1,4e-5],24:[4,2,2e-5],29:[4,2,2e-5],34:[4,3,1e-5],39:[4,3,1e-5],
};
var equipment_names=[
["匕首","短剑","木剑","草原短刀","铁剑","钢剑","森林剑","铜剑","银剑","金剑"],
["布衣","皮甲","轻甲","铁甲","钢甲","森林铠甲","沙漠衣","铜甲","银甲","黄金铠甲"],
["布鞋","皮鞋","森林鞋","沙漠行者","水上行者"],
["转生宝石","生命宝石","暴击宝石","海洋之心"],
["新手村之章","草原徽章","森林徽章","沙漠徽章"],
];
var hpdata=[
50,200,600,1000,2333,
1500,2000,3000,4000,10000,
5.5e3,6.5e3,7.5e3,1.0e4,7.0e4/3,
1.3e4,1.7e4,2.5e4,3.5e4,1.0e5,
5.5e4,7.0e4,9.0e4,1.1e5,7.0e5/3,
1.6e5,2.0e5,3.5e5,6.0e5,1.0e6,
1.4e6,2.2e6,3.0e6,5.0e6,1.0e7,
8.0e6,1.2e7,2.0e7,3.0e7,3.0e4,
4.0e7,5.0e7,8.0e7,1.0e8,1.0e8,
1.0e8,1.4e8,2.0e8,2.0e8,7.0e8/3,
3.0e8,4.0e8,5.0e8,7.0e8,7.0e9/3,
2.5e9,4.0e9,5.0e9,1.5e10,7.0e10/3,
5.0e10,1.0e11,2.0e11,1.0e11,7.0e11/3,
2.0e11,8.0e11,6.0e11,2.0e12,1.0e7,
];
var atkdata=[
12,25,40,60,75,
100,125,150,250,240,
300,400,500,650,600,
800,1000,1200,1400,1500,
1500,1800,2000,2200,2200,
2500,3000,3500,3750,4000,
5000,5500,6000,7000,7000,
8.0e3,9.0e3,1.0e4,1.2e4,1.0e4,
1.5e4,2.0e4,2.2e4,2.5e4,3.1e4,
3.5e4,4.0e4,4.5e4,6.0e4,5.5e4,
1.2e5,1.6e5,2.0e5,2.4e5,2.4e5,
4.0e5,4.5e5,7.0e5,7.5e5,8.0e5,
2.0e6,2.5e6,3.0e6,7.0e6,6.0e6,
2.0e7,1.7e7,4.0e7,3.5e7,4.0e7,
];
var exp_data=[
10,11,12,13,15,
15,16,18,13,21,
22,21,21,20,30,
26,25,25,26,30,
38,36,37,38,45,
44,40,39,43,48,
42,44,46,44,53,
52,52,54,50,81,
55,45,50,52,48,
51,51,52,42,61,
23,18,15,14,17,
10,11,7,8,9,
3,4,5,2,4,
1,2,1,2,3,
];
var pu=[];
function softreset(s){
	if(battling){
		alert("正在战斗中");
		return;
	}
	if(!s && !confirm("是否软重置？你将重新开始游戏但保留转生点和转生相关升级。"))return;
	exp=1000,hp=100,atk=10,def=10,luk=0,points=40,energy=30+(pu[1]||0),progress=0;
	battling=0;
	eqtab=0;
	equipments=[[],[],[],[],[],[],[],[],[],[]];
	if(pu[0]){
		var level1=getlv().lv;
		exp+=1000*((Math.pow(4,pu[0])-1)*(3+(pu[0]**pu[0])*2));
		var level2=getlv().lv;
		hp+=(level2-level1)*10;
		atk+=(level2-level1);
		def+=(level2-level1);
		points+=(level2-level1)*4;
	}
}
function reset(){
	if(battling){
		alert("正在战斗中");
		return;
	}
	if(!confirm("是否硬重置？你将重新开始游戏并且失去转生点和转生相关升级！"))return;
	if(!confirm("是否硬重置？你将失去所有东西！这是最后一次警告！"))return;
	exp=1000,hp=100,atk=10,def=10,luk=0,points=40,energy=30,progress=0,pp=0;
	highest_progress=0;pu=[];
	battling=0;
	eqtab=0;
	equipments=[[],[],[],[],[],[],[],[],[],[]];
}
function rand_2(){
	return Math.random()*0.3+0.85;
}
function getlv(){
	return {"lv":Math.floor(Math.pow(exp,0.335)),"progress":Math.pow(exp,0.335)-Math.floor(Math.pow(exp,0.335))};
}
function gethp(){
	return Math.floor(hp*geteqeffs(3,1)*geteqeffs(3,3)*geteqeff(4)*Math.pow(1.25,(pu[3]||0))*Math.sqrt((pu[3]||0)+1));
}
function getatk(){
	return atk*geteqeff(0)*geteqeff(4);
}
function getdef(){
	return def*geteqeff(1)*geteqeff(4);
}
function getpower(){
	return Math.floor((gethp()*getatk()*getdef())**(1/3)/2*(geteqeffs(3,2)));
}
function getehp(x){
	if(x%5==4)return Math.floor(hpdata[x]);
	return hpdata[x]*rand_2();
}
function geteatk(x){
	if(x%5==4)return atkdata[x];
	return atkdata[x]*rand_2();
}
function getedef(x){
	if(x%5==4)return atkdata[x];
	return atkdata[x]*rand_2();
}
function geteqeffs(x,i){
	return 1+Math.log(1+(equipments[x][i]||0))/10*(1+(eqlevels[x][i]||0)**(0.5+0.1*(pu[5]||0))/10);
}
function geteqeff(x){
	var result=1;
	for(var i=0;i<equipment_names[x].length;i++){
		result*=geteqeffs(x,i);
	}
	if(x==2)result=result**0.5;
	if(x==2&&result>=2)result=(result**0.4)*(2**0.6);
	if(x==2&&result>=3)result=(result**0.3)*(3**0.7);
	if(x==2&&result>=4)result=(result**0.2)*(4**0.8);
	if(x==4)result=result**0.2;
	return result;
}
function add(x,y){
	y=Math.floor(y*points);
	points-=y;
	if(x==1)hp+=y*(4+(pu[2]||0));
	if(x==2)atk+=y;
	if(x==3)def+=y;
	if(x==4)luk+=y;
}
function exportsave(){
	return btoa(exp+","+hp+","+atk+","+def+","+luk+","+points+","+btoa(JSON.stringify(equipments))+","+energy+","+progress+","+pp+","+highest_progress+","+btoa(JSON.stringify(pu))+","+btoa(JSON.stringify(eqlevels)));
}
function importsave(a){
	if(!a)return;
	a=atob(a).split(",");
	if(!a[8])return;
	exp=parseFloat(a[0]);
	hp=parseFloat(a[1]);
	atk=parseFloat(a[2]);
	def=parseFloat(a[3]);
	luk=parseFloat(a[4]);
	points=parseFloat(a[5]);
	equipments=JSON.parse(atob(a[6]));
	energy=parseFloat(a[7]);
	progress=parseFloat(a[8]);
	if(!a[9])return;
	pp=parseFloat(a[9]);
	if(!a[11])return;
	highest_progress=parseFloat(a[10]);
	pu=JSON.parse(atob(a[11]));
	if(!a[12])return;
	eqlevels=JSON.parse(atob(a[12]));
}
function load(){
	if(battling){
		alert("正在战斗中");
		return;
	}
	importsave(prompt("输入你的存档"));
}
function update(){
	document.getElementById("lv").innerHTML=format(getlv().lv)+(getlv().lv<10000?" ("+Math.floor(getlv().progress*100)+"%)":"");
	document.getElementById("power").innerHTML=format(getpower());
	document.getElementById("energy").innerHTML=energy;
	document.getElementById("hp").innerHTML=format(hp)+" ("+format(gethp())+")";
	document.getElementById("atk").innerHTML=format(atk)+" ("+format(getatk())+")";
	document.getElementById("def").innerHTML=format(def)+" ("+format(getdef())+")";
	document.getElementById("prestige").innerHTML=format(pp)+" (+"+format(getpp())+")";
	document.getElementById("prestige2").innerHTML=format(getpp());
	document.getElementById("prestige3").innerHTML=format(pp);
	document.getElementById("prestige_eff").innerHTML=Math.floor(prestige_eff()*100)/100;
	document.getElementById("luk").innerHTML=luk;
	document.getElementById("points").innerHTML=points;
	document.getElementById("save").value=exportsave();
	localStorage.zbkc=exportsave();
	for(var i=4;i<progress;i+=5)document.getElementById("b"+i).style.display="inline";
	
	var eq_log="";
	if(eqtab==0){
		eq_log=eq_log+"你的武器提供了"+format((geteqeff(0)-1)*100)+"%的额外攻击，你有：";
	}
	if(eqtab==1){
		eq_log=eq_log+"你的防具提供了"+format((geteqeff(1)-1)*100)+"%的额外防御，你有：";
	}
	if(eqtab==2){
		eq_log=eq_log+"你的鞋子提供了"+format((geteqeff(2)-1)*100)+"%的额外战斗速度，你有：";
	}
	if(eqtab==4){
		eq_log=eq_log+"你的徽章提供了"+format((geteqeff(4)-1)*100)+"%的额外生命值、攻击、防御和转生点，你有：";
	}
	for(var i=0;i<equipment_names[eqtab].length;i++){
		if((equipments[eqtab][i]||0)>0 || (eqlevels[eqtab][i]||0)>0){
			eq_log=eq_log+"<br>"+equipment_names[eqtab][i]+((eqlevels[eqtab][i]||0)>0?"+"+eqlevels[eqtab][i]:"")+"x"+format(equipments[eqtab][i]||0);
			if(eqtab==3&&i==0)eq_log=eq_log+"(+"+format((geteqeffs(3,0)-1)*100)+"%转生点)";
			if(eqtab==3&&i==1)eq_log=eq_log+"(+"+format((geteqeffs(3,1)-1)*100)+"%生命值)";
			if(eqtab==3&&i==2)eq_log=eq_log+"(+"+format((geteqeffs(3,2)-1)*100)+"%暴击率)";
			if(eqtab==3&&i==3)eq_log=eq_log+"(+"+format((geteqeffs(3,3)-1)*100)+"%生命值)";
			if(highest_progress>=50){
				eq_log=eq_log+" <a href=\"javascript:eqlevelup("+eqtab+","+i+");\">强化（需要"+format(eqlevel_cost(eqtab,i))+"个"+equipment_names[eqtab][i]+"）</a>";
			}
		}
	}
	if(document.getElementById("eq").innerHTML!=eq_log)document.getElementById("eq").innerHTML=eq_log;
	if(highest_progress<progress)highest_progress=progress;
	if(highest_progress>=10){
		document.getElementById("pu2").style.display="inline";
		document.getElementById("pu2").innerHTML="生命加点提升（"+(pu[2]||0)+"级，升级需"+format(prestige_cost(2))+"转生点）";
	}
	if(highest_progress>=20){
		document.getElementById("pu1").style.display="inline";
		document.getElementById("pu1").innerHTML="初始能量提升（"+(pu[1]||0)+"级，升级需"+format(prestige_cost(1))+"转生点）";
	}
	if(highest_progress>=30){
		document.getElementById("pu0").style.display="inline";
		document.getElementById("pu0").innerHTML="初始等级提升（"+(pu[0]||0)+"级，升级需"+format(prestige_cost(0))+"转生点）";
	}
	if(highest_progress>=40){
		document.getElementById("pu3").style.display="inline";
		document.getElementById("pu3").innerHTML="生命值提升（"+(pu[3]||0)+"级，升级需"+format(prestige_cost(3))+"转生点）";
	}
	if(highest_progress>=50){
		document.getElementById("pu4").style.display="inline";
		document.getElementById("pu4").innerHTML="BOSS额外掉落（"+(pu[4]||0)+"级，升级需"+format(prestige_cost(4))+"转生点）";
	}
	if(pu[4]>=3){
		document.getElementById("eq_4").style.display="inline";
	}
	if(highest_progress>=60){
		document.getElementById("pu5").style.display="inline";
		document.getElementById("pu5").innerHTML="强化的效果提升（"+(pu[5]||0)+"级，升级需"+format(prestige_cost(5))+"转生点）";
	}
}
function settab(x){
	if(battling){
		alert("正在战斗中");
		return;
	}
	document.getElementById("tab0").style.display="none";
	document.getElementById("tab1").style.display="none";
	document.getElementById("tab2").style.display="none";
	document.getElementById("tab3").style.display="none";
	document.getElementById("battlelog").style.display="none";
	document.getElementById("tab"+x).style.display="block";
}
function battle(x){
	if(battling){
		alert("正在战斗中");
		return;
	}
	if(energy<=0){
		alert("能量不足，请转生！");
		return;
	}
	battling=1;
	document.getElementById("tab0").style.display="none";
	document.getElementById("tab1").style.display="none";
	document.getElementById("tab2").style.display="none";
	document.getElementById("tab3").style.display="none";
	document.getElementById("battlelog").style.display="block";
	var curhp=gethp();
	var enemyhp=getehp(x);
	var enemyhp2=enemyhp;
	var enemyatk=geteatk(x);
	var enemydef=getedef(x);
	var mult=1;
	var battle_status={"log":"你遇到了怪物<br>","interval":-1};
	if(x%5==4)battle_status.log="你遇到了BOSS，BOSS有"+format(enemyhp)+"点生命值<br>";
	if(x==39||x==69)battle_status.log+="BOSS特性：伤害开方<br>";
	if(x==49)battle_status.log+="BOSS特性：23.33%暴击率<br>";
	if(x==59)battle_status.log+="BOSS特性：23.33%闪避率<br>";
	var ename="怪物";
	if(x%5==4)ename="BOSS";
	document.getElementById("battlelog").innerHTML=battle_status.log;
	var battle_turn=function(){
		document.getElementById("tab0").style.display="none";
		document.getElementById("tab1").style.display="none";
		document.getElementById("battlelog").style.display="block";
		var damage1=Math.floor(1+getatk()*getatk()/enemydef*rand_2()*mult);
		var damage2=Math.floor(1+enemyatk*enemyatk/getdef()*rand_2()*mult);
		if(Math.random()+2<geteqeffs(3,2)){
			damage1*=2;battle_status.log+="超级暴击！";
		}
		if(Math.random()+1<geteqeffs(3,2)){
			damage1*=2;battle_status.log+="暴击！";
		}
		var damage1_disp=damage1;
		if(x==39||x==69)damage1=Math.floor(damage1**0.5);
		if(x==59 && Math.random()<7/30)damage1=0;
		enemyhp-=damage1;
		if(x==39||x==69)battle_status.log+="你对"+ename+"造成了"+format(damage1_disp)+"点伤害<br>";
		if(enemyhp<=0){
			if(x==39||x==69)battle_status.log+="由于BOSS的特性，实际造成了"+format(damage1)+"点伤害，"+ename+"被击败了<br>";
			else battle_status.log+="你对"+ename+"造成了"+format(damage1)+"点伤害，"+ename+"被击败了<br>";
			clearInterval(battle_status.interval);
			var exp_base=Math.pow(enemyatk*enemydef,0.75);
			if(exp_base>=9e10)exp_base=(exp_base*9e10)**0.5;
			var exp_give=Math.floor(exp_base*rand_2()*exp_data[x]*prestige_eff());
			battle_status.log+="战斗胜利，你得到了"+format(exp_give)+"经验<br>";
			var level1=getlv().lv;
			exp+=exp_give;
			var level2=getlv().lv;
			if(level2>level1)battle_status.log+="你升了"+format(level2-level1)+"级<br>";
			hp+=(level2-level1)*10;
			atk+=(level2-level1);
			def+=(level2-level1);
			points+=(level2-level1)*4;
			var give_equipments=Math.floor(equipment_data[x][2]*(luk**0.5)*(1+(eqlevels[equipment_data[x][0]][equipment_data[x][1]]||0)*0.15)*Math.random()*prestige_eff());
			if(give_equipments>0){
				battle_status.log+=ename+"掉落了"+format(give_equipments)+"个"+equipment_names[equipment_data[x][0]][equipment_data[x][1]];
				equipments[equipment_data[x][0]][equipment_data[x][1]]=(equipments[equipment_data[x][0]][equipment_data[x][1]]||0)+give_equipments;
			}
			if(x%5==4){
				document.getElementById("b"+x).style.display="inline";
				while(progress<x){
					energy+=3;
					progress+=5;
				}
				if(pu[4]){
					var rate2=1-Math.pow(0.85,pu[4]**0.75);
					for(var j=x-((pu[4]>=2&&x>=5)?5:4);j<=x;j++){
						give_equipments=Math.floor(equipment_data[j][2]*(luk**0.5)*(1+(eqlevels[equipment_data[j][0]][equipment_data[j][1]]||0)*0.15)*Math.random()*prestige_eff()*rate2);
						if(give_equipments>0)battle_status.log+="<br>由于转生升级“BOSS额外掉落”的效果，"+ename+"额外掉落了"+format(give_equipments)+"个"+equipment_names[equipment_data[j][0]][equipment_data[j][1]];
						if(give_equipments>0)equipments[equipment_data[j][0]][equipment_data[j][1]]=(equipments[equipment_data[j][0]][equipment_data[j][1]]||0)+give_equipments;
					}
					if(pu[4]>=2+x/10){
						give_equipments=Math.floor(equipment_data_extra[x][2]*(luk**0.5)*(1+(eqlevels[equipment_data_extra[x][0]][equipment_data_extra[x][1]]||0)*0.15)*Math.random()*prestige_eff());
						if(give_equipments>0){
							battle_status.log+="<br>由于转生升级“BOSS额外掉落”的效果，"+ename+"额外掉落了"+format(give_equipments)+"个"+equipment_names[equipment_data_extra[x][0]][equipment_data_extra[x][1]];
							equipments[equipment_data_extra[x][0]][equipment_data_extra[x][1]]=(equipments[equipment_data_extra[x][0]][equipment_data_extra[x][1]]||0)+give_equipments;
						}
					}
				}
			}
			battle_status.log+="<br><a href=\"javascript:battle("+x+");\">再次战斗</a>"
			energy--;
			battling=0;
		}else{
			if(x==59 && damage1==0)battle_status.log+=ename+"闪避，"+ename+"还剩"+format(enemyhp)+"点生命值<br>";
			else if(x==39||x==69)battle_status.log+="由于BOSS的特性，实际造成了"+format(damage1)+"点伤害，"+ename+"还剩"+format(enemyhp)+"点生命值<br>";
			else if(x%5==4)battle_status.log+="你对"+ename+"造成了"+format(damage1)+"点伤害，"+ename+"还剩"+format(enemyhp)+"点生命值<br>";
			else battle_status.log+="你对"+ename+"造成了"+format(damage1)+"点伤害，"+ename+"还剩"+Math.ceil(enemyhp/enemyhp2*100)+"%生命值<br>";
			if(x==49 && Math.random()<7/30){
				damage2*=2;battle_status.log+="BOSS暴击！";
			}
			curhp-=damage2;
			if(curhp<=0){
				clearInterval(battle_status.interval);
				battle_status.log+=ename+"对你造成了"+format(damage2)+"点伤害，你倒下了<br><a href=\"javascript:battle("+x+");\">再次战斗</a>";
				battling=0;
			}else battle_status.log+=ename+"对你造成了"+format(damage2)+"点伤害，你还剩"+format(curhp)+"点生命值<br>";
		}
		document.getElementById("battlelog").innerHTML=battle_status.log;
		mult=mult*1.01;
		if(mult>1.2)mult=mult*1.01;
	}
	battle_status.interval=setInterval(battle_turn,777/geteqeff(2));
}


function getpp(){
	var pp=0;
	for(var j=0;j<4;j++)for(var i=0;i<equipment_names[j].length;i++){
		if((equipments[j][i]||0)>0)pp=pp+Math.log(1+(equipments[j][i]||0))*(1+(eqlevels[j][i]||0)/Math.max(20-(pu[5]||0),10));
	}
	pp=pp*Math.log10(getlv().lv);
	return Math.floor(((pp**1.9)/75+(30+progress+(pu[1]||0)-energy)/15) * geteqeffs(3,0) * Math.pow(1.01,progress)*geteqeff(4));
}
function prestige(){
	pp+=getpp();
	softreset(true);
}
function prestige_eff(){
	return 1+pp**0.5/5;
}
function prestige_cost(x){
	var pu_max=[6,10,10,8,6,5];
	if(pu[x] && pu[x]>=pu_max[x])return Infinity;
	if(x==0){
		if(pu[x])return Math.floor(Math.pow(10,3+pu[x])/(Math.min(pu[x],5)**2+1));else return 1000;
	}
	if(x==1){
		if(pu[x])return Math.pow(3,pu[x])*100;else return 100;
	}
	if(x==2){
		if(pu[x])return Math.pow(5,pu[x])*10;else return 10;
	}
	if(x==3){
		if(pu[x])return Math.pow(2,pu[x])*10000;else return 10000;
	}
	if(x==4){
		if(pu[x])return Math.pow(3,pu[x])*10000;else return 10000;
	}
	if(x==5){
		if(pu[x])return Math.pow(2,pu[x])*100000;else return 100000;
	}
}
function prestige_up(x){
	if(pp<prestige_cost(x))return;
	pp-=prestige_cost(x);
	if(x==0){
		var level1=getlv().lv;
		if(pu[0])exp-=1000*((Math.pow(4,pu[0])-1)*(3+(pu[0]**pu[0])*2));
		else pu[0]=0;
		pu[0]++;
		exp+=1000*((Math.pow(4,pu[0])-1)*(3+(pu[0]**pu[0])*2));
		var level2=getlv().lv;
		hp+=(level2-level1)*10;
		atk+=(level2-level1);
		def+=(level2-level1);
		points+=(level2-level1)*4;
	}
	if(x==1){
		energy++;
		if(pu[1])pu[1]++;else pu[1]=1;
	}
	if(x==2){
		if(pu[2])pu[2]++;else pu[2]=1;
	}
	if(x==3){
		if(pu[3])pu[3]++;else pu[3]=1;
	}
	if(x==4){
		if(pu[4])pu[4]++;else pu[4]=1;
	}
	if(x==5){
		if(pu[5])pu[5]++;else pu[5]=1;
	}
}
function format(x){
	if(x>=1e308)return "无限";
	if(x>=1e76)return format(x/1e68)+"无量大数";
	if(x>=1e74)return (x/1e72).toFixed(0)+"万无量大数";
	if(x>=1e72)return (x/1e72).toFixed(0)+"万无量大数";
	if(x>=1e70)return (x/1e68).toFixed(0)+"无量大数";
	if(x>=1e68)return (x/1e68).toFixed(2)+"无量大数";
	if(x>=1e66)return (x/1e64).toFixed(0)+"不可思议";
	if(x>=1e64)return (x/1e64).toFixed(2)+"不可思议";
	if(x>=1e62)return (x/1e60).toFixed(0)+"那由他";
	if(x>=1e60)return (x/1e60).toFixed(2)+"那由他";
	if(x>=1e58)return (x/1e56).toFixed(0)+"阿僧祗";
	if(x>=1e56)return (x/1e56).toFixed(2)+"阿僧祗";
	if(x>=1e54)return (x/1e52).toFixed(0)+"恒河沙";
	if(x>=1e52)return (x/1e52).toFixed(2)+"恒河沙";
	if(x>=1e50)return (x/1e48).toFixed(0)+"极";
	if(x>=1e48)return (x/1e48).toFixed(2)+"极";
	if(x>=1e46)return (x/1e44).toFixed(0)+"载";
	if(x>=1e44)return (x/1e44).toFixed(2)+"载";
	if(x>=1e42)return (x/1e40).toFixed(0)+"正";
	if(x>=1e40)return (x/1e40).toFixed(2)+"正";
	if(x>=1e38)return (x/1e36).toFixed(0)+"涧";
	if(x>=1e36)return (x/1e36).toFixed(2)+"涧";
	if(x>=1e34)return (x/1e32).toFixed(0)+"沟";
	if(x>=1e32)return (x/1e32).toFixed(2)+"沟";
	if(x>=1e30)return (x/1e28).toFixed(0)+"穰";
	if(x>=1e28)return (x/1e28).toFixed(2)+"穰";
	if(x>=1e26)return (x/1e24).toFixed(0)+"秭";
	if(x>=1e24)return (x/1e24).toFixed(2)+"秭";
	if(x>=1e22)return (x/1e20).toFixed(0)+"垓";
	if(x>=1e20)return (x/1e20).toFixed(2)+"垓";
	if(x>=1e18)return (x/1e16).toFixed(0)+"京";
	if(x>=1e16)return (x/1e16).toFixed(2)+"京";
	if(x>=1e14)return (x/1e12).toFixed(0)+"兆";
	if(x>=1e12)return (x/1e12).toFixed(2)+"兆";
	if(x>=1e10)return (x/1e8).toFixed(0)+"亿";
	if(x>=1e8)return (x/1e8).toFixed(2)+"亿";
	return Math.floor(x);
}
function eqlevel_cost(x,i){
	return Math.pow(10,(eqlevels[x][i]||0));
}
function eqlevelup(x,i){
	if((equipments[x][i]||0)<eqlevel_cost(x,i)){
		return;
	}
	equipments[x][i]-=eqlevel_cost(x,i);
	eqlevels[x][i]=(eqlevels[x][i]||0)+1;
}
importsave(localStorage.zbkc);
setInterval(update,20);
</script>
</head>
<body>
等级：<span id="lv"></span> 战力：<span id="power"></span> 能量：<span id="energy"></span> 转生点：<span id="prestige"></span><br>
生命值：<span id="hp"></span> <a href="javascript:add(1,0.2)">20%加点</a> <a href="javascript:add(1,0.5)">50%加点</a> <a href="javascript:add(1,1)">全加点</a><br>
攻击：<span id="atk"></span> <a href="javascript:add(2,0.2)">20%加点</a> <a href="javascript:add(2,0.5)">50%加点</a> <a href="javascript:add(2,1)">全加点</a><br>
防御：<span id="def"></span> <a href="javascript:add(3,0.2)">20%加点</a> <a href="javascript:add(3,0.5)">50%加点</a> <a href="javascript:add(3,1)">全加点</a><br>
幸运：<span id="luk"></span> <a href="javascript:add(4,0.2)">20%加点</a> <a href="javascript:add(4,0.5)">50%加点</a> <a href="javascript:add(4,1)">全加点</a><br>
属性点：<span id="points"></span><br>
<br>
<a href="javascript:settab(0);">战斗</a> <a href="javascript:settab(1);">装备</a> <a href="javascript:settab(3);">转生</a> <a href="javascript:settab(2);">存档</a>
<div id="tab0" style="display:none;">
<a href="javascript:battle(0);">新手村1（推荐战力10）</a>
<a href="javascript:battle(1);">新手村2（推荐战力25）</a>
<a href="javascript:battle(2);">新手村3（推荐战力50）</a>
<a href="javascript:battle(3);">新手村4（推荐战力75）</a>
<a href="javascript:battle(4);">新手村BOSS（推荐战力100）</a><br>
<span id="b4" style="display:none;">
<a href="javascript:battle(5);">新手村外1（推荐战力125）</a>
<a href="javascript:battle(6);">新手村外2（推荐战力150）</a>
<a href="javascript:battle(7);">新手村外3（推荐战力200）</a>
<a href="javascript:battle(8);">新手村外4（推荐战力300）</a>
<a href="javascript:battle(9);">新手村外BOSS（打败以解锁新的转生升级！）</a>
</span><br>
<span id="b9" style="display:none;">
<a href="javascript:battle(10);">草原1（推荐战力400）</a>
<a href="javascript:battle(11);">草原2（推荐战力500）</a>
<a href="javascript:battle(12);">草原3（推荐战力600）</a>
<a href="javascript:battle(13);">草原4（推荐战力800）</a>
<a href="javascript:battle(14);">草原BOSS1（推荐战力1000）</a>
</span><br>
<span id="b14" style="display:none;">
<a href="javascript:battle(15);">草原6（推荐战力1000）</a>
<a href="javascript:battle(16);">草原7（推荐战力1250）</a>
<a href="javascript:battle(17);">草原8（推荐战力1600）</a>
<a href="javascript:battle(18);">草原9（推荐战力2000）</a>
<a href="javascript:battle(19);">草原BOSS2（打败以解锁新的转生升级！）</a>
</span><br>
<span id="b19" style="display:none;">
<a href="javascript:battle(20);">森林1（推荐战力2500）</a>
<a href="javascript:battle(21);">森林2（推荐战力3000）</a>
<a href="javascript:battle(22);">森林3（推荐战力3500）</a>
<a href="javascript:battle(23);">森林4（推荐战力4000）</a>
<a href="javascript:battle(24);">森林BOSS1（推荐战力5000）</a>
</span><br>
<span id="b24" style="display:none;">
<a href="javascript:battle(25);">森林6（推荐战力5000）</a>
<a href="javascript:battle(26);">森林7（推荐战力6000）</a>
<a href="javascript:battle(27);">森林8（推荐战力8000）</a>
<a href="javascript:battle(28);">森林9（推荐战力10000）</a>
<a href="javascript:battle(29);">森林BOSS2（打败以解锁新的转生升级！）</a>
</span><br>
<span id="b29" style="display:none;">
<a href="javascript:battle(30);">沙漠1（推荐战力16000）</a>
<a href="javascript:battle(31);">沙漠2（推荐战力20000）</a>
<a href="javascript:battle(32);">沙漠3（推荐战力24000）</a>
<a href="javascript:battle(33);">沙漠4（推荐战力30000）</a>
<a href="javascript:battle(34);">沙漠BOSS1（推荐战力40000）</a>
</span><br>
<span id="b34" style="display:none;">
<a href="javascript:battle(35);">沙漠6（推荐战力40000）</a>
<a href="javascript:battle(36);">沙漠7（推荐战力50000）</a>
<a href="javascript:battle(37);">沙漠8（推荐战力60000）</a>
<a href="javascript:battle(38);">沙漠9（推荐战力80000）</a>
<a href="javascript:battle(39);">沙漠BOSS2（打败以解锁新的转生升级！）</a>
</span><br>
<span id="b39" style="display:none;">
<a href="javascript:battle(40);">洞穴1（推荐战力10万）</a>
<a href="javascript:battle(41);">洞穴2（推荐战力13万）</a>
<a href="javascript:battle(42);">洞穴3（推荐战力17万）</a>
<a href="javascript:battle(43);">洞穴4（推荐战力20万）</a>
<a href="javascript:battle(44);">洞穴BOSS1（推荐战力23万）</a>
</span><br>
<span id="b44" style="display:none;">
<a href="javascript:battle(45);">洞穴6（推荐战力25万）</a>
<a href="javascript:battle(46);">洞穴7（推荐战力30万）</a>
<a href="javascript:battle(47);">洞穴8（推荐战力37万）</a>
<a href="javascript:battle(48);">洞穴9（推荐战力45万）</a>
<a href="javascript:battle(49);">洞穴BOSS2（打败以解锁强化和新的转生升级！）</a>
</span><br>
<span id="b49" style="display:none;">
<a href="javascript:battle(50);">海洋1（推荐战力80万）</a>
<a href="javascript:battle(51);">海洋2（推荐战力110万）</a>
<a href="javascript:battle(52);">海洋3（推荐战力140万）</a>
<a href="javascript:battle(53);">海洋4（推荐战力170万）</a>
<a href="javascript:battle(54);">海洋BOSS1（推荐战力233万）</a>
</span><br>
<span id="b54" style="display:none;">
<a href="javascript:battle(55);">海洋6（推荐战力400万）</a>
<a href="javascript:battle(56);">海洋7（推荐战力500万）</a>
<a href="javascript:battle(57);">海洋8（推荐战力700万）</a>
<a href="javascript:battle(58);">海洋9（推荐战力1000万）</a>
<a href="javascript:battle(59);">海洋BOSS2（打败以解锁新的转生升级！）</a>
</span><br>
<span id="b59" style="display:none;">
<a href="javascript:battle(60);">山脉1（推荐战力3000万）</a>
<a href="javascript:battle(61);">山脉2（推荐战力4000万）</a>
<a href="javascript:battle(62);">山脉3（推荐战力6000万）</a>
<a href="javascript:battle(63);">山脉4（推荐战力8000万）</a>
<a href="javascript:battle(64);">山脉BOSS1（推荐战力1亿）</a>
</span><br>
<span id="b64" style="display:none;">
<a href="javascript:battle(65);">山脉6（推荐战力2亿）</a>
<a href="javascript:battle(66);">山脉7（推荐战力3亿）</a>
<a href="javascript:battle(67);">山脉8（推荐战力5亿）</a>
<a href="javascript:battle(68);">山脉9（推荐战力7亿）</a>
<a href="javascript:battle(69);">山脉BOSS2（打败以通关！）</a>
</span><br>
<span id="b69" style="display:none;">
</span>
</div>
<div id="tab1" style="display:none;">
<a href="javascript:eqtab=0;">武器</a> <a href="javascript:eqtab=1;">防具</a> <a href="javascript:eqtab=2;">鞋子</a> <a href="javascript:eqtab=3;">宝石</a>
<a href="javascript:eqtab=4;" style="display:none;" id="eq_4">徽章</a><br>
<div id="eq">
</div>

</div>
<div id="tab2" style="display:none;">
你的存档是：<input id="save" /><br>
<a href="javascript:load();">读档</a> <a href="javascript:softreset();">软重置</a> <a href="javascript:reset();">硬重置</a><br>
</div>
<div id="tab3" style="display:none;">
转生将重置你的等级、属性、装备和能量并获得<span id="prestige2"></span>转生点。
<a href="javascript:prestige();">开始转生</a><br>
<br>
你有<span id="prestige3"></span>转生点，经验和装备的获得变为原来的<span id="prestige_eff"></span>倍<br>
<a id="pu2" href="javascript:prestige_up(2);" style="display:none;">生命值加点提升</a><br>
<a id="pu1" href="javascript:prestige_up(1);" style="display:none;">初始能量提升</a><br>
<a id="pu0" href="javascript:prestige_up(0);" style="display:none;">初始等级提升</a><br>
<a id="pu3" href="javascript:prestige_up(3);" style="display:none;">生命值提升</a><br>
<a id="pu4" href="javascript:prestige_up(4);" style="display:none;">boss额外掉落</a><br>
<a id="pu5" href="javascript:prestige_up(5);" style="display:none;">强化的效果提升</a><br>
</div>
<div id="battlelog">
欢迎进入《装备狂潮》，作者为loader3229！这是一个类似于属性膨胀的游戏，特点是怪物可以直接掉落大量装备！感受爆装备的乐趣吧！<br>
与大多数通胀类游戏不同，这个游戏内在你被打败时不消耗能量，并且可以多次挑战BOSS。<br>
版本：Beta 0.5
</div>
</body>
</html>